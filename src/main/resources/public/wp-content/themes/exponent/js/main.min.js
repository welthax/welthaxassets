!function(l){"use strict";function o(t){var e,a=l("#tatsu-header-wrap"),n=window.tatsuHeader,i=0;null!=(t="string"==typeof t?jQuery(t):t instanceof l?t:null)&&0<t.length&&t.is(":visible")&&(null!=n&&(c.width()<960&&l(".tatsu-mobile-menu").is(":visible")&&n.closeMobileMenu(),n.closeSlide()),e=t.offset().top,d.hasClass("admin-bar")&&(i+=32),0<a.length&&a.hasClass("sticky")&&null!=n&&(!a.hasClass("smart")||s.scrollTop()>e)&&e>n.getSmartOffset()&&(i+=null!=n?n.getStickyHeaderHeight():0),e=Math.ceil(i<=e?e-i:e),s.animate({scrollTop:e},1e3))}function t(){0<l("#be-themes-loader-container").length&&l("#be-themes-loader-container").stop().fadeOut(400,function(){l(this).remove(),s.css("overflow-y","")})}function e(){var t=l(".be-slider");0<t.length&&asyncloader.require("flickity",function(){t.each(function(){var t=jQuery(this);t.hasClass("flickity-enabled")||("1"!=t.attr("data-arrows")&&"1"!=t.attr("data-dots")||function(t){function e(t){var e,a;if(t instanceof l&&0<t.length)return e=isNaN(Number(t.attr("data-cols")))?1:Number(t.attr("data-cols")),a=t.find(".be-slide").length,1024<c.width()?e<a:767<c.width()?2<a:1<a}e(t)||t.addClass("be-slider-hide-nav"),c.on("debouncedresize",function(){e(t)?t.removeClass("be-slider-hide-nav"):t.addClass("be-slider-hide-nav")})}(t),"1"==t.attr("data-arrows")&&"1"==t.attr("data-outer-arrows")&&function(t){if(t instanceof l&&0<t.length&&!t.hasClass("be-slider-with-margin")&&100<c.width()-t.outerWidth()){var e=isNaN(t.attr("data-gutter"))?0:Number(t.attr("data-gutter"))/2;t.css({padding:"0 50px",margin:"0 -"+(50+e)+"px"})}}(t),"1"==t.attr("data-equal-height")&&function(t){if(t instanceof l&&0<t.length){var e=0,a=t.find(".be-slide");a.each(function(){var t=l(this);e<t.height()&&(e=t.height())}),a.height(e),t.addClass("be-equal-height-slider")}}(t),t.flickity({cellAlign:null!=t.attr("data-cell-align")?t.attr("data-cell-align"):"left",contain:!0,lazyLoad:"1"==t.attr("data-lazy-load")&&function(t){var e=1;if(t instanceof l&&0<t.length){var a=isNaN(Number(t.attr("data-cols")))?1:Number(t.attr("data-cols"));1<a&&(e=a-1)}return e}(t),adaptiveHeight:"1"==t.attr("data-adaptive-height"),pageDots:"1"==t.attr("data-dots"),prevNextButtons:"1"==t.attr("data-arrows"),asNavFor:null!=t.attr("data-as-nav-for")&&t.attr("data-as-nav-for"),autoPlay:!isNaN(Number(t.attr("data-auto-play")))&&Number(t.attr("data-auto-play")),wrapAround:"1"==t.attr("data-infinite")}))})})}function a(){d.hasClass("be-sticky-sections")&&!d.hasClass("tatsu-frame")&&asyncloader.require("stickysections",function(){function e(){null!=tatsu&&(tatsu.cssAnimate(!1,"",l(this)),l(this).find(".tatsu-an").length&&tatsu.animatedNumbers())}function a(){var t=l(this),e=l("#sticky-dots-navigation"),a=t.attr("data-headerscheme");0<e.length&&e.attr("data-headerscheme")!=a&&(e.find("span").css("transition","none"),e.removeClass("background--dark"==a?"background--light":"background--dark"),e.find("span").css("transition","background 700ms cubic-bezier(0.645, 0.045, 0.355, 1)"),e.addClass(a),e.attr("data-headerscheme",a))}function n(){var t=l("li.menu-item"),e=l(this);e.length&&o+c.scrollTop()>=e.offset().top&&(t.removeClass("current-menu-item"),t.find('a[href$="#'+e.attr("id")+'"]').closest("li.menu-item").addClass("current-menu-item current-section"))}function t(t){stickySections.updateLayout(),a.call(t),n.call(t),e.call(t),u.on("click","a",function(t){var e,a,n,i=l(this).attr("href"),s=window.location.href;"string"==typeof i&&(a=(e=i.split("#"))[1],0<=s.indexOf(e[0])&&"string"==typeof a&&0<(a=l("#"+a)).length&&a.is(":visible")&&(t.preventDefault(),-1<(n=stickySections.getStickyIndex(a[0]))&&n<jQuery(".sticky-section").length&&(0===d.scrollTop()&&d.scrollTop(1),stickySections.moveTo(n))))})}var i=l(".be-sections-wrap").attr("data-sticky-scroll"),s=l(".tatsu-global-section"),o=l("#tatsu-header-container").outerHeight()+(l("#wpadminbar").length?l("#wpadminbar").height():0),r={autoScroll:"auto_scroll"==i,fixedParent:"#be-sticky-section-fixed-wrap",scrollCallback:function(t){e.call(this)},scrollingSpeed:1200,overlay:0!=jQuery(".be-sections-wrap").attr("data-sticky-overlay"),fullScreenOffset:["#wpadminbar","#tatsu-header-container"],dots:!0,footer:[".tatsu-global-section-bottom","#tatsu-footer-container"],navigationPosition:"right",afterLoad:function(){e.call(this),function(){var t=jQuery(this),e=jQuery("#tatsu-header-wrap"),a=t.attr("data-headerscheme");e.hasClass("transparent")&&null!=a&&(e.hasClass("dark"),a=a.replace("background--",""),e.removeClass(a),e.addClass("dark"==a?"light":"dark"))}.call(this,arguments),a.call(this),n.call(this)}};0<s.length&&l(".be-sections-wrap").prepend(jQuery(".tatsu-global-section-top")).append(jQuery(".tatsu-global-section-penultimate")),967<jQuery(window).width()&&stickySections.initialize(".be-sections-wrap",r,t),c.on("resize",function(){967<c.width()&&!d.hasClass("sticky-enabled")?stickySections.initialize(".be-sections-wrap",r,t):c.width()<968&&d.hasClass("sticky-enabled")&&stickySections.destroy()})})}function n(){!function(){var t=l(".be-themes-bg-lazyload");0<t.length&&t.each(function(){var t,e=l(this),a=e.attr("data-src");null!=a&&((t=l(new Image)).one("load",function(){e.addClass("be-themes-bg-lazyloaded"),setTimeout(function(){e.parent().find(".be-themes-bg-blur").remove()},1e3)}),t.attr("src",a),t[0].complete&&t.load())})}(),function(){var t=window.location.hash;t&&0<l(t).length&&o(l(t)),u.on("click","a",function(t){var e,a,n=l(this),i=n.attr("href"),s=window.location.href;if(n.hasClass("ui-tabs-anchor")||0<n.closest(".wc-tabs").length||"#"===i)return!1;d.hasClass("be-sticky-sections")||"string"==typeof i&&(a=(e=i.split("#"))[1],0<=s.indexOf(e[0])&&"string"==typeof a&&0<(a=l("#"+a)).length&&a.is(":visible")&&(t.preventDefault(),o(a)))})}(),h(),0<l("#be-themes-loader-container").length?(s.css("overflow-y","hidden"),c.on("load",t),c.on("pageshow",function(){d.css({transition:"",opacity:""})}),c.on("beforeunload",function(){d.css({transition:"opacity 500ms",opacity:"0"})}),0<l("#tatsu-header-wrap").length&&l("#tatsu-header-wrap").hasClass("transparent")?d.hasClass("tatsu-transparent-header-pad")?t():u.on("tatsu_transparent_header_padding_calc",t):t()):s.css("overflow-y","auto"),function(){var t,s,e=l(".be-vimeo-embed"),a=l(".be-youtube-embed"),n=l("iframe");s=function(t){asyncloader.require(["fitvids"],function(){null!=t&&0<t.length&&(t.closest(".be-video-embed").removeClass("be-embed-placeholder"),t.parent().fitVids(),l(document).trigger("be_video_loaded",[t]))})},t=function(){a.each(function(){var t=l(this),e=null,a=null!=t.attr("data-video-id")?t.attr("data-video-id"):null,n=null!=t.attr("data-autoplay")?parseInt(t.attr("data-autoplay")):null,i=null!=t.attr("data-loop")?parseInt(t.attr("data-loop")):null;null!=a&&(e=new YT.Player(this,{videoId:a,playerVars:{autoplay:n,loop:i,playlist:i?a:"",rel:0},width:t.width(),height:t.width()/1.7777,events:{onReady:function(t){n&&t.target.mute()}}}),s(l(e.getIframe())))})},0<e.length&&asyncloader.require(["vimeonew"],function(){e.each(function(){var t=l(this),e=isNaN(Number(t.attr("data-video-id")))?null:Number(t.attr("data-video-id")),a=null!=t.attr("data-autoplay")&&parseInt(t.attr("data-autoplay")),n=null!=t.attr("data-loop")&&parseInt(t.attr("data-loop"));null!=e&&new Vimeo.Player(this,{id:e,autoplay:!!a,loop:!!n,muted:!!a,width:t.width(),height:Math.ceil(t.width()/1.7777)}).ready().then(function(){s(t.children("iframe"))})})}),0<a.length&&("undefined"!=typeof YT&&"function"==typeof YT.Player?t():l(document).on("YTAPIReady",t)),0<n.length&&asyncloader.require("fitvids",function(){d.fitVids({customSelector:'iframe[src*="videopress.com"]'})})}(),asyncloader.require(["isotope","begrid"],function(){jQuery('.be-grid[data-layout="metro"],.be-grid[data-layout="masonry"]').each(function(){new BeGrid(this)})}),function(){var t=l(".exp-post-categories-labeled .exp-term");0<t.length&&t.each(function(){var t=l(this),e=t.css("color"),a=t.css("background-color");t.on("mouseenter",function(){""==e&&""==a||t.css({color:a,backgroundColor:e})}),t.on("mouseleave",function(){""==e&&""==a||t.css({color:e,backgroundColor:a})})})}(),r(),function(){var t={comments:r};window.BeScripts=t}(),c.on("debouncedresize",function(){r(),f()}),function(){var a,n=jQuery(".exp-posts-nav-sticky");0<n.length&&(a=jQuery(".exp-post-single-content"),d.css("margin-bottom",n.outerHeight()+20+"px"),0<a.length?c.on("scroll",function(){var t=c.scrollTop()+c.height(),e=a.offset().top+a.outerHeight();!n.hasClass("exp-posts-nav-sticky-active")&&100<t-e?n.addClass("exp-posts-nav-sticky-active"):n.hasClass("exp-posts-nav-sticky-active")&&t-e<100&&n.removeClass("exp-posts-nav-sticky-active")}):n.addClass("exp-posts-nav-sticky-active"))}(),f(),e(),asyncloader.require(["superfish","hoverintent"],function(){jQuery(".exponent-menu ").children("ul").superfish({animation:{top:"50px",opacity:"show"},animationOut:{top:"45px",opacity:"hide"},pathLevels:3,speed:"fast",delay:100,disableHI:!0,onBeforeShow:function(){if(this.parent("li").hasClass("mega-menu")){this.css("visibility","hidden"),this.fadeIn();var t=this.width(),e=this.offset().left;if(this.parent("li").offset().left,jQuery(window).width()-e<t){var a=t-(jQuery(window).width()-30-e);this.css("left",-a),this.find(".exponent-header-pointer").css("left",20+a)}this.css("visibility","visible"),this.fadeOut()}else{var n=this.parents("ul").length,i=this.closest("li.menu-item-has-children"),s=n*(t=this.innerWidth());e=t-(jQuery(this).innerWidth()-jQuery(this).width())/2+5,1<n&&(jQuery(window).width()-this.closest("li.menu-item-has-children").offset().left<s?i.find("ul.exponent-sub-menu").css("right",e).css("left","auto").css("top",0):i.find("ul.exponent-sub-menu").css("left",e).css("right","auto").css("top",0))}this.siblings(".exponent-sub-menu-indicator").addClass("menu-open")},onBeforeHide:function(){this.siblings(".exponent-sub-menu-indicator").removeClass("menu-open")}})}),jQuery(document).on("click",".exponent-mobile-menu-icon .line-4",function(){var t=jQuery(this).parent(".exponent-mobile-menu-icon");t.toggleClass("open"),t.siblings(".exponent-mobile-menu ").animate({height:"toggle"})}),jQuery(document).on("click",".exponent-mobile-menu  .exponent-sub-menu-indicator",function(){jQuery(this).toggleClass("menu-open"),jQuery(this).siblings(".exponent-sub-menu").animate({height:"toggle"})}),jQuery(document).on("click",".exponent-mobile-menu  li.menu-item-has-children a",function(){"#"==jQuery(this).attr("href")&&(jQuery(this).toggleClass("menu-open"),jQuery(this).siblings(".exponent-sub-menu").animate({height:"toggle"}))}),function(){if(jQuery(".fixed-sidebar-page").length){var t=jQuery(".be-content-overflow").hasClass("left-fixed-page")?"left":"right",e=jQuery("#content-wrap");jQuery("#be-overflow-image-content-inner").css("margin-"+t,-Math.abs(e.offset().left)),jQuery(".be-sticky-column").length&&asyncloader.require("sticky-kit",function(){var t=jQuery("body").hasClass("admin-bar")?32:0;jQuery(".be-sticky-column").stick_in_parent({parent:".be-content-overflow-inner-wrap",offset_top:t})})}}(),a()}var i,c=jQuery(window),u=jQuery(document),s=jQuery("html,body"),d=jQuery(document.body),r=(l(document).on("click",".exp-comment-details",function(){var t=l(this).closest(".comment"),e=l("#respond"),a=0,n=t.find(".exp-comment-details");0<t.length&&0<n.length&&0<e.length&&(a=n.offset().left-t.offset().left,e.css("margin-left",a+"px"),m())}),l(document).on("click","#cancel-comment-reply-link",function(){var t=l("#respond");0<t.length&&(t.css("margin-left",""),m())}),m),h=((i=l("#be-themes-back-to-top")).on("click",function(t){t.preventDefault(),jQuery("body,html").animate({scrollTop:0},1e3)}),0<i.length&&c.on("scroll",function(){p()}),p),f=function(){var t=l(".be-sidebar-sticky");0<t.length&&asyncloader.require("sticky-kit",function(){var e=c.width(),a=d.hasClass("admin-bar")?32:0;t.each(function(){var t=l(this);1024<e&&!t.data().sticky_kit?t.stick_in_parent({parent:".be-row",offset_top:a}):e<1024&&t.data().sticky_kit&&t.trigger("sticky_kit:detach")})})};function p(){0<i.length&&(10<c.scrollTop()?i.fadeIn():i.fadeOut())}function m(){if(d.hasClass("single-post")){var t=jQuery(".exp-comment-parent");0<t.length&&(959<c.width()?t.each(function(){var a,t,e,n,i,s=jQuery(this),o=0,r=s.find(".exp-comment-follow-line");0<r.length&&0<(a=s.nextUntil(".comment")).length&&(a.each(function(t,e){o+=l(this).outerHeight(t!=a.length-1)}),0<(t=s.find(".exp-comment-author-image")).length&&(e=t.height()+32,n=t.width()/2,i=s.outerHeight(!0)+o-e,r.css({top:e+"px",left:n+"px",height:i+"px",width:"1px",display:"block"})))}):t.find(".exp-comment-follow-line").css("display","none"))}}jQuery(function(){n()}),function(){var t=null!=window.exponentThemeConfig?window.exponentThemeConfig.dependencies:{};if(null!=t)for(var e in t)t.hasOwnProperty(e)&&asyncloader.register(t[e],e);asyncloader.register("https://player.vimeo.com/api/player.js","vimeonew")}()}(jQuery);